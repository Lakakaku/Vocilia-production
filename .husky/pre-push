#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "ðŸ§ª Running tests before push..."

# Run all tests
npm run test

# Run specific tests for critical functionality
echo "ðŸŽ¤ Testing voice processing..."
node test-end-to-end-journey.js

# Run iOS Safari tests if available
if [ -f "playwright.ios.config.js" ]; then
  echo "ðŸ“± Running iOS Safari compatibility tests..."
  npm run test:ios
fi

echo "âœ… Pre-push checks passed!"